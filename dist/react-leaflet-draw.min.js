!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("leaflet"),require("react-leaflet"),require("leaflet-draw")):"function"==typeof define&&define.amd?define(["leaflet","react-leaflet","leaflet-draw"],t):"object"==typeof exports?exports.ReactLeaflet=t(require("leaflet"),require("react-leaflet"),require("leaflet-draw")):e.ReactLeaflet=t(e.L,e[void 0],e.L)}(window,(function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t,r){e.exports=r(3)()},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t,r){"use strict";var n=r(4);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=r},function(e,t,r){"use strict";r.r(t),r.d(t,"EditControl",(function(){return Z}));var n=r(0);r(5);var o=function(){this.__data__=[],this.size=0};var i=function(e,t){return e===t||e!=e&&t!=t};var a=function(e,t){for(var r=e.length;r--;)if(i(e[r][0],t))return r;return-1},p=Array.prototype.splice;var u=function(e){var t=this.__data__,r=a(t,e);return!(r<0)&&(r==t.length-1?t.pop():p.call(t,r,1),--this.size,!0)};var c=function(e){var t=this.__data__,r=a(t,e);return r<0?void 0:t[r][1]};var f=function(e){return a(this.__data__,e)>-1};var l=function(e,t){var r=this.__data__,n=a(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function s(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}s.prototype.clear=o,s.prototype.delete=u,s.prototype.get=c,s.prototype.has=f,s.prototype.set=l;var y=s,d=Array.isArray;var v=function(){if(!arguments.length)return[];var e=arguments[0];return d(e)?e:[e]};var b=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var h=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1};var O=function(e,t){return!!(null==e?0:e.length)&&h(e,t,0)>-1};var w=function(e,t,r,n,o,i){var a=1&r,p=e.length,u=t.length;if(p!=u&&!(a&&u>p))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var f=-1,l=!0,s=2&r?new v:void 0;for(i.set(e,t),i.set(t,e);++f<p;){var y=e[f],d=t[f];if(n)var h=a?n(d,y,f,t,e,i):n(y,d,f,e,t,i);if(void 0!==h){if(h)continue;l=!1;break}if(s){if(!b(t,(function(e,t){if(!O(s,t)&&(y===e||o(y,e,r,n,i)))return s.push(t)}))){l=!1;break}}else if(y!==d&&!o(y,d,r,n,i)){l=!1;break}}return i.delete(e),i.delete(t),l};var P=function(e,t){return e===t||e!=e&&t!=t};var T=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),m=Object.prototype.hasOwnProperty;var j=function(e,t,r,n,o,i){var a=1&r,p=T(e),u=p.length;if(u!=T(t).length&&!a)return!1;for(var c=u;c--;){var f=p[c];if(!(a?f in t:m.call(t,f)))return!1}var l=i.get(e);if(l&&i.get(t))return l==t;var s=!0;i.set(e,t),i.set(t,e);for(var y=a;++c<u;){var d=e[f=p[c]],v=t[f];if(n)var b=a?n(v,d,f,t,e,i):n(d,v,f,e,t,i);if(!(void 0===b?d===v||o(d,v,r,n,i):b)){s=!1;break}y||(y="constructor"==f)}if(s&&!y){var h=e.constructor,O=t.constructor;h==O||!("constructor"in e)||!("constructor"in t)||"function"==typeof h&&h instanceof h&&"function"==typeof O&&O instanceof O||(s=!1)}return i.delete(e),i.delete(t),s},g=Object.prototype.toString;var _=function(e){return g.call(e)};var E=function(){return!1};var D=function(){return!1},S="[object Object]",x=Object.prototype.hasOwnProperty;var R=function(e,t,r,n,o,i){var a=d(e),p=d(t),u=a?"[object Array]":_(e),c=p?"[object Array]":_(t),f=(u="[object Arguments]"==u?S:u)==S,l=(c="[object Arguments]"==c?S:c)==S,s=u==c;if(s&&E(e)){if(!E(t))return!1;a=!0,f=!1}if(s&&!f)return i||(i=new y),a||D(e)?w(e,t,r,n,o,i):P(e,t,u,r,n,o,i);if(!(1&r)){var v=f&&x.call(e,"__wrapped__"),b=l&&x.call(t,"__wrapped__");if(v||b){var h=v?e.value():e,O=b?t.value():t;return i||(i=new y),o(h,O,r,n,i)}}return!!s&&(i||(i=new y),j(e,t,r,n,o,i))};var k=function(e){return null!=e&&"object"==typeof e};var C=function e(t,r,n,o,i){return t===r||(null==t||null==r||!k(t)&&!k(r)?t!=t&&r!=r:R(t,r,n,o,e,i))};var M=function(e,t){return C(e,t)},A=r(2),L=r(1),q=r.n(L);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function B(e,t,r){return(B="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Y(e);if(t){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return H(this,r)}}function H(e,t){return!t||"object"!==I(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K={onEdited:"draw:edited",onDrawStart:"draw:drawstart",onDrawStop:"draw:drawstop",onDrawVertex:"draw:drawvertex",onEditStart:"draw:editstart",onEditMove:"draw:editmove",onEditResize:"draw:editresize",onEditVertex:"draw:editvertex",onEditStop:"draw:editstop",onDeleted:"draw:deleted",onDeleteStart:"draw:deletestart",onDeleteStop:"draw:deletestop"},Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(i,e);var t,r,n,o=G(i);function i(){var e;W(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return J(N(e=o.call.apply(o,[this].concat(r))),"onDrawCreate",(function(t){var r=e.props.onCreated;e.props.leaflet.layerContainer.addLayer(t.layer),r&&r(t)})),e}return t=i,(r=[{key:"createLeafletElement",value:function(e){return X(e)}},{key:"componentDidMount",value:function(){var e=this;B(Y(i.prototype),"componentDidMount",this).call(this);var t=this.props.leaflet.map,r=this.props.onMounted;for(var n in K)t.on(K[n],(function(t){var r=Object.keys(K).filter((function(e){return K[e]==t.type}));if(1==r.length){var n=r[0];e.props[n]&&e.props[n](t)}}));t.on(q.a.Draw.Event.CREATED,this.onDrawCreate),r&&r(this.leafletElement)}},{key:"componentWillUnmount",value:function(){B(Y(i.prototype),"componentWillUnmount",this).call(this);var e=this.props.leaflet.map;for(var t in e.off(q.a.Draw.Event.CREATED,this.onDrawCreate),K)this.props[t]&&e.off(K[t],this.props[t])}},{key:"componentDidUpdate",value:function(e){if(B(Y(i.prototype),"componentDidUpdate",this).call(this,e),M(this.props.draw,e.draw)&&M(this.props.edit,e.edit)&&this.props.position===e.position)return!1;var t=this.props.leaflet.map;this.leafletElement.remove(t),this.leafletElement=X(this.props),this.leafletElement.addTo(t);var r=this.props.onMounted;return r&&r(this.leafletElement),null}}])&&V(t.prototype,r),n&&V(t,n),i}(A.MapControl);function X(e){var t=e.leaflet.layerContainer,r=e.draw,n=e.edit,o=e.position,i={edit:z(z({},n),{},{featureGroup:t})};return r&&(i.draw=z({},r)),o&&(i.position=o),new L.Control.Draw(i)}J(Q,"propTypes",z(z({},Object.keys(K).reduce((function(e,t){return e[t]=n.PropTypes.func,e}),{})),{},{onCreated:n.PropTypes.func,onMounted:n.PropTypes.func,draw:n.PropTypes.shape({polyline:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool]),polygon:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool]),rectangle:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool]),circle:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool]),marker:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool])}),edit:n.PropTypes.shape({edit:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool]),remove:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool]),poly:n.PropTypes.oneOfType([n.PropTypes.object,n.PropTypes.bool]),allowIntersection:n.PropTypes.bool}),position:n.PropTypes.oneOf(["topright","topleft","bottomright","bottomleft"]),leaflet:n.PropTypes.shape({map:n.PropTypes.instanceOf(L.Map),layerContainer:n.PropTypes.shape({addLayer:n.PropTypes.func.isRequired,removeLayer:n.PropTypes.func.isRequired})})}));var Z=Object(A.withLeaflet)(Q)}])}));